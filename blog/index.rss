<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0">
<channel>
  <title>Mailpile: The Mailpile Blog</title>
  <link>http://www.mailpile.is/blog/</link>
  <item>
    <title>The First OpenPGP E-mail Summit</title>
    <link>http://www.mailpile.is/blog/2015-04-20_OpenPGP_Email_Summit.html</link>
    <description>&lt;p&gt;This weekend I attended the first OpenPGP e-mail summit, mostly
organized by Nico of the Enigmail project, generously hosted by
&lt;a href=&#34;http://www.giepa.de/&#34;&gt;Giegerich &amp;amp; Partner&lt;/a&gt; in Dreieich, Germany.&lt;/p&gt;
&lt;p&gt;At the summit I met folks from &lt;a href=&#34;https://www.enigmail.net/&#34;&gt;Enigmail&lt;/a&gt;,
&lt;a href=&#34;https://www.whiteout.io/&#34;&gt;Whiteout&lt;/a&gt;,
&lt;a href=&#34;https://www.mailvelope.com/&#34;&gt;Mailvelope&lt;/a&gt;,
&lt;a href=&#34;https://github.com/google/end-to-end&#34;&gt;Google End-to-End&lt;/a&gt;
and many other projects, including our very own Brennan Novak who
presented his &lt;a href=&#34;http://modernpgp.org&#34;&gt;Modern PGP&lt;/a&gt; initiative and of
course Werner and &lt;a href=&#34;https://www.gnupg.org/&#34;&gt;GnuPG&lt;/a&gt; itself. That was
actually the main theme of the first day; presenting our respective
projects and just getting to know each other. Most of us had never met
before in person and I am pretty sure everyone learned something new.&lt;/p&gt;
&lt;p&gt;The second day was more work focused. Common topics of interest were
identified and then we split up into discussion groups to strategize and
identify common problems and potential solutions. The groups I attended
discussed the following issues:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;A proposal to encrypt or sign e-mail headers (Subject, From, To, ...)&lt;/li&gt;
&lt;li&gt;Searching encrypted mail&lt;/li&gt;
&lt;li&gt;Possible improvements to the PGP/MIME standard&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;There seemed to be a common consensus that there are some very real
problems we should aim to solve together and standardize. As we have
&lt;a href=&#34;2014-11-21_To_PGP_MIME_Or_Not.html&#34;&gt;blogged about before&lt;/a&gt;, these are
issues which Mailpile cares deeply about, so I was very happy to get a
chance to share our experience, ideas and learn from the others. Further
steps will be taken online, in code and on mailing lists.&lt;/p&gt;
&lt;p&gt;Sessions I was unable to attend discussed topics such as key discovery,
key certification, key synchronization, next-generation key servers,
terminology and user-facing vocabulary and fostering ongoing
collaboration between the attending projects.&lt;/p&gt;
&lt;p&gt;All in all, the summit greatly exceeded my expectations. There was very
little bickering or bike-shedding, and all attendees seemed happy to set
aside their political differences in the interest of collaboration and
improving the e-mail encryption ecosystem.&lt;/p&gt;
&lt;p&gt;I look forward to working with all of them in the future.&lt;/p&gt;
&lt;p&gt;...&lt;/p&gt;
&lt;h2&gt;Weekly Status Summary&lt;/h2&gt;
&lt;h3&gt;Done last week&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Started writing code again (fixing PGP-related bugs) in my
   local repository&lt;/li&gt;
&lt;li&gt;Responded to issues and pull requests on Github&lt;/li&gt;
&lt;li&gt;Exchanged e-mails with potential financial backers of the project&lt;/li&gt;
&lt;li&gt;Prepared a presentation and ideas for the OpenPGP summit&lt;/li&gt;
&lt;li&gt;Attended the OpenPGP summit&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;Plans for this week&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;OpenPGP summit follow-up work&lt;/li&gt;
&lt;li&gt;Continue communicating with potential backers&lt;/li&gt;
&lt;li&gt;Drafting work plans for the summer, aiming to release Mailpile 1.0
   this fall&lt;/li&gt;
&lt;/ol&gt;</description>
    <pubDate>Mon, 20 Apr 2015 12:00:00 +0200</pubDate>
  </item>
  <item>
    <title>Back to Work!</title>
    <link>http://www.mailpile.is/blog/2015-04-13_Back_to_Work.html</link>
    <description>&lt;p&gt;After a month&#39;s break, it&#39;s time to resume work on Mailpile again. Some
time away is always useful to give perspective and get some much needed
rest, and now that I have returned I plan to make a few log overdue
changes to how I work on Mailpile.&lt;/p&gt;
&lt;p&gt;I&#39;ll discuss the rest later, but the first change is to improve
communication by publishing a weekly blog post describing what has been
done recently and what is ahead. In order to distract as little as
possible from actual development, these posts will be kept relatively
short most of the time. This is the first such post!&lt;/p&gt;
&lt;p&gt;Think of it as a virtual &#34;stand up&#34;, just to set the tone for the next
few days of work:&lt;/p&gt;
&lt;h3&gt;Last week&lt;/h3&gt;
&lt;p&gt;Nothing to report, I was on holidays!&lt;/p&gt;
&lt;h3&gt;Next week&lt;/h3&gt;
&lt;p&gt;This week is dedicated to getting back to work. An event I am attending
next weekend will helpfully provide focus...&lt;/p&gt;
&lt;p&gt;Next weekend I will be attending a small summit in Germany, meeting
various other developers from open source projects that also work with
OpenPGP and GnuPG.&lt;/p&gt;
&lt;p&gt;The summit is a private, very tech-focused event attended by developers
from most of the open source projects using GnuPG today; a real who&#39;s
who of GnuPG and e-mail security. To make the most of this opportunity,
this week I will refresh my own memory on the current state of GnuPG and
Mailpile and try to identify points where I could use advice or help, as
well as points where I may be able to contribute and help the other
projects.&lt;/p&gt;
&lt;p&gt;Topics I will explore this week and consider for presentation at the
summit are:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Mailpile itself&lt;/li&gt;
&lt;li&gt;Mailpile&#39;s proposed trust model&lt;/li&gt;
&lt;li&gt;A method for generating beautiful avatars from PGP key fingerprints&lt;/li&gt;
&lt;li&gt;Enhanced e-mail signatures (manifests)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;That&#39;s the plan! Next week&#39;s update will tell you how it went.&lt;/p&gt;</description>
    <pubDate>Mon, 13 Apr 2015 12:00:00 +0200</pubDate>
  </item>
  <item>
    <title>Beta Rejected!</title>
    <link>http://www.mailpile.is/blog/2015-03-06_Beta_Rejected.html</link>
    <description>&lt;p&gt;I would like to thank everyone who took the time download the Mailpile
Beta releases and give us valuable feedback. &lt;strong&gt;Thank you, thank you,
thank you!&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;It&#39;s always exciting and scary to put your work out there for everyone
to see, but our early adopters have been universally supportive and
gracious, even when Mailpile didn&#39;t quite work as well as they had
hoped.&lt;/p&gt;
&lt;p&gt;But now that a bunch of people have taken the time to download Mailpile,
poke it with a stick and put it through it&#39;s paces, it is time to
declare the beta test period over for now. We need to respond to the
feedback and fix the issues that were discovered.&lt;/p&gt;
&lt;p&gt;Obviously we had hoped things were almost ready for public consumption,
that we were close to making a proper release. The testing did it&#39;s job
alright: we know now we were a tad overoptimistic. Just a tad! So we&#39;re
going back to work instead of pushing for a 1.0 right away.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#39;/img/rejection-stamp.png&#39; style=&#39;float: right;&#39;&gt;&lt;/p&gt;
&lt;p&gt;Some of the key take-aways from our beta tests were:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;We bit off more than we can chew in our 1.0 plans. The app needs to
   be simplified so we can ship something really stable.&lt;/li&gt;
&lt;li&gt;Our IMAP support still needs work so it can interoperate with all
   the different mail servers out there. The Internet is a big and
   diverse place!&lt;/li&gt;
&lt;li&gt;Our GnuPG strategy and code isn&#39;t ready. We need to either make all
   that crypto stuff completely seamless, or improve the tools we expose
   to the user for manual work. Preferably both.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Those are the really big issues, but there are a very large number of
other smaller bugs and loose ends that need work. Almost all of these
are in the &#34;back end&#34; of the app, the low level plumbing, gears and
turbines and closures and APIs that work behind the scenes. The back-end
has been playing catch up to the user interface for a while, it needs
some focus and attention before we can ship a real product.  We fooled
even ourselves by making something that &lt;em&gt;looked&lt;/em&gt; almost ready, even
though under the hood it just wasn&#39;t.&lt;/p&gt;
&lt;p&gt;So I (Bjarni the backend guy) am going to be doubling down on that stuff
... just as soon as I&#39;m finished marrying the most amazing woman I know
later this month. So don&#39;t worry if the github repo is quiet until early
April. I&#39;ll be back!&lt;/p&gt;
&lt;p&gt;Since most of Mailpile&#39;s current limitations are low level back-end
problems, Brennan (our awesome front-end developer) has moved on to
other things for now. I&#39;d like to thank him for all his hard work so far
and encourage you all to stay tuned for news about his ongoing efforts
to improve the usability of crypto apps and modernize PGP.&lt;/p&gt;
&lt;p&gt;See you in April!&lt;/p&gt;</description>
    <pubDate>Fri, 06 Mar 2015 12:00:00 +0100</pubDate>
  </item>
  <item>
    <title>More thoughts on working with GnuPG</title>
    <link>http://www.mailpile.is/blog/2015-02-26_Revisiting_the_GnuPG_discussion.html</link>
    <description>&lt;p&gt;Sm√°ri&#39;s &lt;a href=&#34;/blog/2014-10-07_Some_Thoughts_on_GnuPG.html&#34;&gt;blog post on working with
GnuPG&lt;/a&gt; got a fair bit of
attention and continues to be referenced in various posts and
discussions online.&lt;/p&gt;
&lt;p&gt;Responses have varied, from vehement agreement, to a &lt;a href=&#34;https://lists.gnupg.org/pipermail/gnupg-users/2015-February/052401.html&#34;&gt;friendly and
thoughtful response from Werner
himself&lt;/a&gt;,
to random folks on the Internet people calling us incompetent for using
the GnuPG command-line tool directly instead of some library or other.&lt;/p&gt;
&lt;p&gt;I would like to address that last group specifically:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;If you think a command-line interface is not an API, then you are
   ignoring the millions of lines of shell scripts that keep the Internet
   running. You are wrong. Please consult your nearest sysadmin for an
   attitude readjustment.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Process separation is one of the cornerstones of good security
   design. Heartbleed and many other vulnerabilities are direct results
   of crypto and keys living the same process space as protocol and
   application logic. We initially chose to invoke GnuPG (and OpenSSL
   as well) as external tools for such security reasons, even though we
   knew it would cost us some performance.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;We looked at the libraries, encountered an apalling lack of
   documentation and hoped the command-line interface would be nicer to
   work with. Learning one API beats having to learn two, and there was
   no way we could do this &lt;em&gt;without&lt;/em&gt; the GnuPG CLI - if only for
   debugging and tech support reasons.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Phew.&lt;/p&gt;
&lt;p&gt;Now that I&#39;ve gotten that off my chest... let&#39;s move on to some more
productive discussions!&lt;/p&gt;
&lt;h2&gt;Utility or Application?&lt;/h2&gt;
&lt;p&gt;Although I appreciated Werner&#39;s response to our post, I am afraid he
missed the forest for the trees. Probably because Sm√°ri wrote a lot
about some interesting, funky trees... :-)&lt;/p&gt;
&lt;p&gt;Fundamentally, I think Mailpile&#39;s difficulties stem from the fact that
GnuPG was not written with automation in mind. The tool is not written
as a unix utility, it is very much written as a user facing application,
a tool for humans.&lt;/p&gt;
&lt;p&gt;As such, it is a fantastic piece of engineering. If you understand how
public/private key encryption works and know what you want to do, odds
are GnuPG will help you get the job done. GnuPG&#39;s security track record
is solid and it is a tool people can rely on, as long as they take the
time to learn the basics and get used to the CLI.&lt;/p&gt;
&lt;p&gt;However, as a result of this design focus, many of GnuPG&#39;s automation
interfaces appear to be an afterthought. They are incomplete and often
difficult to work with. Consider that &#34;commands to create and sign keys
without any user interaction&#34; were brand new &lt;a href=&#34;http://lists.gnupg.org/pipermail/gnupg-announce/2014q4/000358.html&#34;&gt;in GnuPG 2.1 last
November&lt;/a&gt;.
GnuPG 2.1 is the development version of GnuPG and is not shipped by any
of the mainstream Linux distributions yet. I do applaud the fact that
these features are being added, but the fact that it happened 3 months
ago only supports my hypothesis: automation has to a great extent been
an afterthought to the GnuPG project.&lt;/p&gt;
&lt;p&gt;This has gotten worse over time, not better. In GnuPG 2.0, use of
&lt;code&gt;gpg-agent&lt;/code&gt; and &lt;code&gt;pinentry&lt;/code&gt; became mandatory and the assumption that the
tool is running in a desktop environment under human oversight pervades.
This is why Linux distros still keep shipping GnuPG 1.4.x - they rely on
automated PGP processing for package verification and other things which
GnuPG 2.0 just isn&#39;t suitable for.&lt;/p&gt;
&lt;p&gt;I worry that GnuPG 2.1 takes this even further still, &lt;a href=&#34;https://www.gnupg.org/faq/whats-new-in-2.1.html&#34;&gt;moving key
managment operations into the
agent&lt;/a&gt;. Also, as far
as I can tell, it doesn&#39;t matter whether we use the &lt;code&gt;gpgme&lt;/code&gt; library or
the command-line tool, those assumptions and behaviors are shared
throughout.&lt;/p&gt;
&lt;p&gt;Much of this is understandable, given GnuPG&#39;s historic roots and the
fact that it inherits many things from it&#39;s predecessor, PGP, which
itself predated modern graphical desktops and web apps. It is also
understandable, given the culture around PGP, where keys and passphrases
are magical holy talismans, so special that you need to constantly ask
the user for permission before invoking them.  GnuPG enforces this
culture by preventing apps from interfering with the flow of this
critical information, refusing to work without trusted pinentry.&lt;/p&gt;
&lt;p&gt;However, while GnuPG insists on controlling this part of the user
interface and treats automation as a 2nd class citizen, a side effect is
that the project actively thwarts efforts of others that want or need
alternate user interfaces.&lt;/p&gt;
&lt;p&gt;Mailpile is one such project.&lt;/p&gt;
&lt;h2&gt;Mailpile&#39;s pinentry woes&lt;/h2&gt;
&lt;p&gt;One of the cool things about Mailpile, is it functions not only in a
desktop environment, but also as a background process (receiving,
decrypting and indexing mail), and also as a remote web server which
allows the user to leave their mail and keys on a secure box in their
home, which they then access remotely over the network.&lt;/p&gt;
&lt;p&gt;This flexibility is key to our overall goals of providing people with
something that can match &#34;cloud based&#34; e-mail providers on features,
without compromising privacy and security.&lt;/p&gt;
&lt;p&gt;Unfortunately, the entire pinentry concept, where &lt;code&gt;gpg&lt;/code&gt; (via the
&lt;code&gt;gnupg-agent&lt;/code&gt;) displays a window prompting the user to enter a
passphrase, is completely and utterly incompatible with this. Popping up
a dialog on the user&#39;s Raspberry Pi, when the owner tries to read
encrypted mail from halfway across the world using his Android phone&#39;s
web browser, is never going to work.&lt;/p&gt;
&lt;p&gt;And even if it somehow did work, using a side-channel to authenticate
has very serious problems of its own.&lt;/p&gt;
&lt;p&gt;Consider the situation where a user wants to access Mailpile both
locally, and remotely: on the desktop, the &#34;just use pinentry&#34; dogma
tells us we should just trust GnuPG there (and GnuPG 2.x enforces this
policy).&lt;/p&gt;
&lt;p&gt;Well, what then happens when Mailpile is accessed remotely?&lt;/p&gt;
&lt;p&gt;Things fail.&lt;/p&gt;
&lt;p&gt;The benign failure mode is the user can&#39;t read encrypted mail because
they can&#39;t see the pinentry dialog. This makes the app unusable, but the
bug is still &#34;benign&#34; because it doesn&#39;t leak confidential data.&lt;/p&gt;
&lt;p&gt;There is another catastrophic (and real) failure mode: If the legitimate
user is logged on at the desktop and an attacker can access Mailpile&#39;s
web interface at the same time, then the attacker will be able to read
encrypted mail (or compose fraudulent signed mail) because the
&lt;code&gt;gpg-agent&lt;/code&gt; has keys cached and Mailpile has no way to communicate to
GnuPG that the remote access is somehow different from what happens
locally.&lt;/p&gt;
&lt;p&gt;This is really, really bad.&lt;/p&gt;
&lt;p&gt;This is why Mailpile only supports GnuPG 1.4.x at the moment: we haven¬¥t
figured out how to make GnuPG 2.x operate in a secure fashion, since it
won&#39;t let us disable the agent.&lt;/p&gt;
&lt;p&gt;This whole issue has us scratching our heads and wondering what to do.
We&#39;ve gone from frustration to righteous anger, to just being rather
worried. If the GnuPG project is moving aggressively in a direction
which is fundamentally incompatible with projects like ours, what should
we do?  Drop PGP and try to implement S/MIME? Switch to something
interesting but unproven, like
&lt;a href=&#34;http://www.tedunangst.com/flak/post/reop&#34;&gt;reop&lt;/a&gt;?&lt;/p&gt;
&lt;p&gt;I just don&#39;t know.&lt;/p&gt;
&lt;p&gt;I could come up with some clever hacks to work around GnuPG&#39;s core
design; I could implement my own agent, I could try to cripple GnuPG
with weird environment variables or a custom GNUPG_HOME and config, or I
could even fork the project - but those &lt;em&gt;all&lt;/em&gt; feel like last resorts.&lt;/p&gt;
&lt;p&gt;I am currently revisiting whether I can get &lt;code&gt;gpgme&lt;/code&gt;-based code to avoid
the problems caused by the agent and side-channel auth. I am not too
optimistic. If that fails, then it&#39;s last resort time, or time to drop
PGP.&lt;/p&gt;
&lt;h2&gt;Is this fixable?&lt;/h2&gt;
&lt;p&gt;For the record, Mailpile is not the only project having problems -
questions about related issues are common &lt;a href=&#34;https://lists.gnupg.org/pipermail/gnupg-users/2015-February/052754.html&#34;&gt;on the GnuPG-users mailing
list&lt;/a&gt;
and &lt;a href=&#34;https://stackoverflow.com/questions/8671099/how-to-bypass-pinentry-passphrase-screen-while-decrypting-a-file-using-gpgme&#34;&gt;elsewhere&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;However, I have yet to hear any of the GnuPG developers acknowledge that
this is even a concern, which is why I have taken the time to write this
post. I would like to humbly request that Werner and GnuPG consider
these issues, now that &lt;a href=&#34;http://www.propublica.org/article/the-worlds-email-encryption-software-relies-on-one-guy-who-is-going-broke&#34;&gt;they finally have a
budget&lt;/a&gt;.
(Congrats, by the way, you deserve it!)&lt;/p&gt;
&lt;p&gt;I really do think this can be fixed, if the GnuPG project agrees it is
worth doing. Some specific ideas that I think could help:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Clearly separate the user interface aspects of GnuPG from the crypto
   and keychain management, so projects can use one without the other.
   Do not assume all apps interacting with a particular keychain want the
   same UI for authentication.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Treat the command-line interface of &lt;code&gt;gpg&lt;/code&gt; as if it were an API; keep
   it stable and machine friendly. There should be command-line
   alternatives to all of the interactive dialogs.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Make &lt;code&gt;gpgme-tool&lt;/code&gt; (which implements an API very similar to the JSON
   API requested by Sm√°ri in his post) a mandatory 1st class citizen of
   all GnuPG bundles (instead of &lt;a href=&#34;https://lists.gnupg.org/pipermail/gnupg-devel/2014-December/029196.html&#34;&gt;doing this&lt;/a&gt;).
   We had no idea this tool existed, and I still can&#39;t find it for my
   distro (Ubuntu 14.04). Consider rolling this functionality into the
   &lt;code&gt;gpg&lt;/code&gt; binary itself to facilitate scripting and automation.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;There are probably more, but those are my top three!&lt;/p&gt;
&lt;p&gt;Thanks for reading, I look forward to further discussions (most likley
&lt;a href=&#34;https://lists.gnupg.org/pipermail/gnupg-users/2015-February/052771.html&#34;&gt;on the GnuPG Users mailing
list&lt;/a&gt;).&lt;/p&gt;</description>
    <pubDate>Thu, 26 Feb 2015 12:00:00 +0100</pubDate>
  </item>
  <item>
    <title>Mailpile Beta II - the 4096 bit release</title>
    <link>http://www.mailpile.is/blog/2015-01-20_Mailpile_Beta_II_4096_bits.html</link>
    <description>&lt;p&gt;&lt;img src=&#34;/files/Beta-II.jpg&#34; border=&#34;0&#34;&gt;&lt;/p&gt;
&lt;p&gt;Hello world and Happy New Year!&lt;/p&gt;
&lt;p&gt;The Mailpile team is happy to announce our second Beta release:
&lt;strong&gt;Mailpile Beta II&lt;/strong&gt; (version 0.4.2). We&#39;re still not at 1.0 (sorry...),
but much progress has been made and it is high time to update our public
offerings again.&lt;/p&gt;
&lt;p&gt;There was also a little security bug in the Beta, that we need to talk
about and address... but first, the good stuff!&lt;/p&gt;
&lt;h2&gt;Where Can You Get It?&lt;/h2&gt;
&lt;p&gt;The new release is availble from &lt;a href=&#34;/download/&#34;&gt;the Mailpile download
page&lt;/a&gt;, and the source is &lt;a href=&#34;https://github.com/mailpile/Mailpile/releases&#34;&gt;on
github&lt;/a&gt; as always.&lt;/p&gt;
&lt;p&gt;Please read &lt;a href=&#34;https://github.com/mailpile/Mailpile/wiki/Release-Notes-201501-Beta-II&#34;&gt;the release
notes&lt;/a&gt;
and check our &lt;a href=&#34;https://github.com/mailpile/Mailpile/wiki/Security-roadmap&#34;&gt;security
roadmap&lt;/a&gt; so
you know what to expect.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; People upgrading from the older Mac or Windows packages may
want to uninstall the old Mailpile Beta before installing Beta II. Your
data should all remain intact.&lt;/p&gt;
&lt;h2&gt;What&#39;s New?&lt;/h2&gt;
&lt;p&gt;Since our last beta, work has been focused on three things: fixing bugs,
improving the usability of PGP and speeding up the web interface.&lt;/p&gt;
&lt;p&gt;We have made great progress on all of these fronts.&lt;/p&gt;
&lt;p&gt;In particular, many of the bugs in our IMAP implementation have been
ironed out, as has the notorious bug whereby &lt;code&gt;openssl&lt;/code&gt; processes stick
around consuming large amounts of CPU after Mailpile had supposedly been
shut down. Most of the bugs that made the command line interface
unusable were fixed and of course that security issue which we&#39;ll
discuss at the end of this post.&lt;/p&gt;
&lt;p&gt;The usability of our PGP interface was given some serious scrutiny, with
the help of our friends at the Open Internet Tools project. The amazing
&lt;a href=&#34;https://openitp.org/sup/&#34;&gt;Gus Andrews&lt;/a&gt; conducted a series of usability
studies with various types of users, the results of which were &lt;a href=&#34;https://openitp.org/field-notes/user-tests-mailpile-features.html&#34;&gt;posted
on the OpenITP&#39;s
blog&lt;/a&gt;.
Brennan has been working on solutions based on this feedback and many
improvements in Mailpile Beta II are a result of this work. Thank you
Gus and OpenITP! We hope to work more with them in the future - this is
just the beginning!&lt;/p&gt;
&lt;p&gt;Finally, Bjarni went into hiding in Italy to focus on improving the
performance of our web interface. As a result the Beta II release is
noticably snappier than the first Beta, and we expect more improvements
on this front in the near future.&lt;/p&gt;
&lt;p&gt;Many other things are still in progress, including a more &#34;AJAXy&#34; user
interface, a way to safely read HTML mail, a redesign of the way
Mailpile stores its data, reductions in Mailpile&#39;s RAM requirements and
code cleanups to make Mailpile more amenable to Linux distro packaging.
Those features may not be visible in the Beta II user interface, but
people who look under the hood will find traces in the code.&lt;/p&gt;
&lt;h2&gt;Our PGP key size bug&lt;/h2&gt;
&lt;p&gt;That brings us to the security issue which forced us to get our act
together and push this release out the door:&lt;/p&gt;
&lt;p&gt;&lt;em&gt;The Mailpile Beta was misconfigured to generate weak PGP keys during
setup.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;To be exact, if a user installed Mailpile and did not already have a PGP
key in their GnuPG keychain, then Mailpile would automatically generate
a new key. Instead of generating a 4096 bit encryption key as we had
planned, we actually generated a 1024 bit key. Oops!&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;How did this happen?&lt;/strong&gt;&lt;br /&gt;
  Human error. The key size was lowered to facilitate debugging, and we forgot to raise it again.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Who is affected?&lt;/strong&gt;&lt;br /&gt;
  People who did not already have a PGP key and installed the Mailpile Beta, or installed from github before Jan 5, 2015.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;What is the impact?&lt;/strong&gt;&lt;br /&gt;
  Unless you have powerful enemies, a 1024 bit key is still probably okay. See below for more details.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;How does one fix it?&lt;/strong&gt;&lt;br /&gt;
  Generate a new key, revoke the old one. We have added code to Mailpile to assist with this process. Details below...&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We&#39;d like to give special thanks to Matt Drollette for sending us a pull
request on github to fix the issue.&lt;/p&gt;
&lt;h3&gt;So how bad is it really?&lt;/h3&gt;
&lt;p&gt;Realistically, there still aren&#39;t many organizations in the world that
can factor 1024 bit keys within a reasonable amount of time. The NSA
certainly can. Its partners probably. Some other large organizations
maybe. There are some attacks that have worked to reduce the keyspace,
but they&#39;re more common on SSL than PGP. So unless your attacker is a
large powerful government, 1024 is probably okay-ish at the moment. And
using a 1024 bit key is certainly far, far better than not using
encryption at all.&lt;/p&gt;
&lt;p&gt;On the other hand, PGP encrypted data tends to stay encrypted that way
for long periods of time, so there is a possibility that somebody could
intercept the encrypted message, store it until factoring 1024 bit RSA
keys is easy, and then decrypt it. That could be anything between years
or decades.&lt;/p&gt;
&lt;p&gt;A lot of people still use 1024 bit RSA keys, but &lt;a href=&#34;http://www.symantec.com/page.jsp?id=1024-bit-migration-faq&#34;&gt;Certificate
Authorities stopped selling new 1024 bit certificates at the end of
2013&lt;/a&gt;,
because they&#39;re simply not good enough.&lt;/p&gt;
&lt;p&gt;Long story short: This isn&#39;t the end of the world, but we recommend you
upgrade your keys as soon as possible.&lt;/p&gt;
&lt;h3&gt;How do you fix it?&lt;/h3&gt;
&lt;p&gt;For that matter, how do you even know if you have a weak key?&lt;/p&gt;
&lt;p&gt;These two questions are closely related, and just writing instructions
for all the different operating systems out there seemed like a daunting
task. So, in order to simplify the process, the Mailpile Beta II
includes code which will evaluate your keychain and suggest improvements
if it finds problems.&lt;/p&gt;
&lt;p&gt;These problems are not limited to weak 1024 bit keys, the checker will
also detect other problems, such as using a key that is scheduled to
expire in the near future, or neglecting to create a key for one of your
outgoing e-mail addresses.&lt;/p&gt;
&lt;p&gt;To give the tool a try, visit the Mailpile command-line interface and
run the &lt;code&gt;crypto/gpg/check_keys&lt;/code&gt; command. It should produce output
similar to this:&lt;/p&gt;
&lt;pre class=&#34;add-bottom&#34;&gt;
mailpile&gt; crypto/gpg/check_keys

Sanity checked: 4 keys in GPG keyring, 1 profiles.
 - 61A015763D28D410A87B197328191D9B3B4199B4: OK: 4096 bits, looks good!
 - 85EE5D9223806DFCBA630E39EABBE96FD521D78C: --- Disabled.
 - 20FF41634DF6F90ECA4452203CAC6CA6E4D9C373: Bad: expired on 2015-01-16
 - 9858665AC3CA84FEAE2BCAD1E623001E05CE8B43: --- Disabled.

Proposed fixes:
 - Revoke bad keys:
    * Run: `gpg --gen-revoke 20FF41634DF6F90ECA4452203CAC6CA6E4D9C373`
    * Follow the instructions given
    * A block of text will be shown on your screen.
    * Send that block to contacts that have your key.
    * You can search for `is:encrypted to:me` to find people who have it.
- Disable bad keys:
    * Run: `gpg --edit-key 20FF41634DF6F90ECA4452203CAC6CA6E4D9C373`
    * Type `disable`
    * Type `save`
    * You&#39;re done!
&lt;/pre&gt;

&lt;p&gt;The recommended &lt;code&gt;gpg&lt;/code&gt; commands can be run either from a bash shell (or
C: prompt on Windows), or from within Mailpile itself - in order to
allow the instructions to work cross-platform we provide direct access
to &lt;code&gt;gpg&lt;/code&gt; from within the Mailpile command-line itself.&lt;/p&gt;
&lt;p&gt;We are sorry this is not more user friendly, but we had to strike a
balance between making things easy, and getting the word out as soon as
posible. Future versions of Mailpile will hopefully automate more of
this process, detect more problems, and make our &#34;GPG keychain Doctor&#34;
more accessible to people not used to using the command-line.&lt;/p&gt;
&lt;p&gt;It&#39;s a start!&lt;/p&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;Thanks for reading this far, and thank you again for all of your
support.&lt;/p&gt;
&lt;p&gt;Now go &lt;a href=&#34;https://github.com/mailpile/Mailpile/wiki/Release-Notes-201501-Beta-II&#34;&gt;check out Mailpile Beta II&lt;/a&gt;!&lt;/p&gt;</description>
    <pubDate>Tue, 20 Jan 2015 12:00:00 +0100</pubDate>
  </item>
</channel></rss>