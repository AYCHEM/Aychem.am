<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html lang="en"> <!--<![endif]-->
<head>

    <!-- Basic Page Needs
    ================================================== -->
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="author" content="Brennan Novak">

    <!-- Mobile Specific Metas
    ================================================== -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <!-- CSS - CHANGE URL when making live
    ================================================== -->
    <link rel="stylesheet" href="/css/mailpile.css">

    <!--[if lt IE 9]>
        <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Favicons
    ================================================== -->
    <link rel="shortcut icon" href="../img/favicon.png">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png">
    <link rel="alternate" type="application/rss+xml" title="RSS" href="index.rss" />

    <title>Mailpile: Blog</title>

    <!-- JS ================================================== -->
    <script src="/js/jquery.min.js"></script>
    <script src="/js/jquery.flexnav.min.js"></script>
    <script src="/js/list.min.js"></script>
    <script src="/js/jquery.sortable.js"></script>
    <script src="/js/jquery.cookie.js"></script>
    <script src="/js/sjcl.js"></script>
    <script src="/js/hoipoi.js"></script>
    <script src="/js/site.js"></script>
</head><body>

    <div id="navigation">
      <div class="menu-button">Menu</div>
        <ul data-breakpoint="800" class="flexnav">
            <li><a href="/" class="scroll-link" style="position: relative;">
              <img class="scroll-hint" src="/img/icon-48x48.png"
                   style="position: absolute; top:5px; left: 10px;">
              <strong>mail</strong>pile</big>
            </a></li>
            <li><a href="/faq/" class="scroll-link">FAQ</a></li>
            <li><a href="/blog/" class="scroll-link">Blog</a></li>
            <li><a href="/roadmap/"
                   class="scroll-link" style="position: relative;">
              <img class="login-hint" src="/img/happy-star.png"
                   style="position: absolute; top:5px; right: 5px;">
              Roadmap
            </a></li>
            <li><a href="/download/" class="scroll-link">Download</a></li>
            <li><a href="/donate/" class="scroll-link">Donate</a></li>
            <li class="navigation-github"><a href="http://github.com/mailpile/Mailpile" target="_blank" class="scroll-link">Github</a></li>
        </ul>
    </div>
    <a style="position: absolute; top: 0;" name="top"></a>

    <a id="github-banner" href="https://github.com/mailpile/Mailpile"><img style="position: absolute; top: 2.9em; right: 0; border: 0; z-index:4;" src="/img/forkme_right_red_aa0000.png" alt="Fork me on GitHub"></a>

    <div id="content" class="container">
        <div id="header" class="clearfix">
            <div class="col-2 text-center">
                <a href="/"><img class="pages-logo" src="/img/icon-120x120.png"></a>
            </div>
            <div class="col-12">
                <a href="/"><h2><strong>mail</strong>pile : blog</h2></a>
<!--            <h6>A modern, fast web-mail client with user-friendly encryption and privacy features. 100% Free and Open Source software</h6> -->
            </div>
        </div>
        <hr class="blog-hr">
        <div class="row"></div>
        <!-- Content -->
        <div id="pages" class="clearfix">
            <div class="col-11">
<!-- Page content begins -->

    <a href="2017-01-30_A_Plan_for_2017.html"><h1>A Plan for 2017</h1></a>
    <p><strong>Posted by <a href="#">Bjarni Rúnar</a>
               on January 30, 2017</strong></p>
    <p>Happy Belated New Year!</p>
<p>Thank you for your ongoing support and encouragement in 2016. Although there
was no "big news" from Mailpile in 2016, development continued and I was happy
to see a whole bunch of new contributors submitting patches, reporting bugs
and chatting with us on IRC. It's wonderful to have a community.</p>
<p>As any reader of this blog knows, my track record when it comes to predictions
and planning, is absolutely abysmal. I'm sorry.</p>
<p>However, I still want 2017 to be the year Mailpile hits 1.0. The project will
be 4 years old this summer and we <em>need</em> to make a release. Here is how I hope
to accomplish that:</p>
<ol>
<li>
<p>Over the next few months, I will (with help from the community) chip
      away at <a href="https://github.com/mailpile/Mailpile/milestone/4">the list of 1.0-blocking
      issues</a>.</p>
</li>
<li>
<p>Once (most of) the blocking issues are resolved, a <em>release candidate</em>
      will be tagged, packaged and made conveniently (apt-get install ...)
      available for Debian and Ubuntu Linux users.</p>
</li>
<li>
<p>At this point, I will use some of the remaining Mailpile funds to
      hire specialized help to work on the Mac OS X and Windows integration
      and packaging efforts. With a couple of exceptions, I have been
      self-funding my Mailpile work since the beginning of 2015, so in spite
      of our failures to raise grant money, we do still have some cash in the
      bank (and our bitcoin wallets).</p>
</li>
<li>
<p>Once a release candidate has been published, we will ask our community
      of international translators to finish their work and try and get some
      "QA" work done to ensure the translations are accurate.</p>
</li>
<li>
<p>At this point, we will also encourage other Linux distributions to
      contribute build recipes so we can build packages for them as well.</p>
</li>
<li>
<p>Feedback from early Linux adoptors will be used to squash bugs, polish
      the code and clean up the translations, eventually leading to a 1.0
      release. Whether the 1.0 release will be simultaneous for all three
      platforms is undecided.</p>
</li>
</ol>
<p>I think all, or most, of these things can happen within the next 11 months.</p>
<p>Especially with your help...</p>
  <hr>
    <a href="2016-12-13_Too_Cool_for_PGP.html"><h1>Too Cool for PGP</h1></a>
    <p><strong>Posted by <a href="#">Bjarni Rúnar</a>
               on 12 December, 2016</strong></p>
    <p>Some kids are just too cool for school.</p>
<p>And some security experts are too cool for OpenPGP.</p>
<p>It's almost become a rite of passage for security folks: work in the
trenches, build a reputation, climb the ivory tower, write a
<a href="https://blog.cryptographyengineering.com/2014/08/13/whats-matter-with-pgp/">detailed</a>
<a href="https://moxie.org/blog/gpg-and-me/">epiphany</a> about
<a href="http://secushare.org/PGP">why</a> you've
<a href="https://blog.filippo.io/giving-up-on-long-term-pgp/">given up on PGP</a>.
Suggest we all <a href="https://www.lawfareblog.com/iphones-fbi-and-going-dark">buy an iPhone</a>
and use Signal, start giving people phone numbers instead of e-mail
addresses...</p>
<p>Wait, what?</p>
<p>Please take a moment to go ask any young woman if she thinks giving random
strangers her phone number will improve her security. I'll wait.</p>
<p>...</p>
<p>Of course, the experts are right about many things. OpenPGP is <em>old</em> and
more recent tools with more modern designs have a lot going for them. But
I still think they're mostly wrong.</p>
<p>The experts, by and large, have yet to offer any credible replacements for
PGP. And when they suggest abandoning PGP, what they're really saying is we
should give up on secure e-mail and just use something else. That doesn't
fly. Many people <em>have to use e-mail</em>. E-mail is <em>everywhere</em>. Not improving
the security of e-mail and instead expecting people to just use other tools
(or go without), is the security elite proclaiming from their ivory tower:
"<a href="https://en.wikipedia.org/wiki/Let_them_eat_cake">Let them eat cake!</a>"</p>
<p>Furthermore, if that "something else" also requires people use their phone
number for everything... well, that's the messaging world's equivalent of
the widely despised <a href="https://en.wikipedia.org/wiki/Facebook_real-name_policy_controversy">Facebook Real Name
Policy</a>.
If you ever needed a clear example of why the lack of diversity (and
empathy) in tech is a problem, there it is!</p>
<p>Compartmentalization, presenting different identities in different contexts,
is a fundamental, necessary part of human behaviour. It's one of the basics.
If you think taking that away and offering fancy crypto, forward secrecy,
deniability instead is a win... well, I think your threat models need some
work! You have failed and people will just keep on using insecure e-mail for
their accounting, their work, their hobbies, their doctor visits and their
interaction with local government. Because people know their needs better
than you do.</p>
<p>But I digress.</p>
<p>The ridiculous phone number thing aside, I also take issue with the fact
that when our opinionated experts do suggest replacements, the things they
recommend are proprietary, centralized and controlled by for-profit
companies. Some of them (mostly the underdogs) may be open source, but even
<a href="https://whispersystems.org/blog/the-ecosystem-is-moving/">the best of those use a centralized design and are hostile to
federation</a>. In
pursuit of security and convenience (and, let's be honest, control, power
and money), openness has been hung out to dry.</p>
<p>This is short-sighted at best.</p>
<p>These cool new apps may be secure today. But what about tomorrow? Odds
are, they will be <a href="https://www.wired.com/2007/11/encrypted-e-mai/">compromised</a> by
<a href="http://www.theregister.co.uk/2016/11/30/investigatory_powers_act_backdoors/">government mandate</a>,
<a href="https://www.theguardian.com/technology/2015/dec/17/whatsapp-blocked-brazil-48-hours-facebook">blocked</a>
or <a href="https://www.theguardian.com/commentisfree/2014/may/20/why-did-lavabit-shut-down-snowden-email">shut down</a>.
Or just dead because messaging is a cut-throat business and the money
runs out. Anyone remember ICQ? MSN? GChat? Sprinkling these new messaging
apps in security pixie dust doesn't make them qualified to replace e-mail.</p>
<p>But what if I'm wrong? What if one of these businesses succeeds, e-mail dies
and all our comms become dependent on proprietary protocols mediated by
for-profit monopolies? Is that a problem?</p>
<p>Here, <a href="https://lmgtfy.com/?q=why+are+monopolies+bad">let me google that for you</a>. </p>
<p>I really hope it doesn't happen.</p>
<h2>Interlude</h2>
<p>Please, if you are at risk, if you have powerful adversaries, follow the
advice of the cool kids. The experts are absolutely right when they say PGP
is too confusing and messy <em>today</em> for most people to use safely. It takes
training, practice and diligence.</p>
<p>So sure, get an iPhone if you can afford it. Use Signal or iMessage. Use
Tor, <a href="https://www.hackerfactor.com/blog/index.php?/archives/721-TOR-and-Trust.html">carefully</a>.
For e-mail, create as many GMail accounts as you need to blend in with the
crowd and not draw attention to yourself; their security team is the best in
the world, let them protect you! Enable two-factor auth, use HTTPS.</p>
<p>But most importantly; if you can avoid digitizing incriminating
information, <em>do that</em>. <a href="https://en.wikipedia.org/wiki/Rubber-hose_cryptanalysis">Rubber hose cryptanalysis is
real</a> and it's
much easier to avoid creating data in the first place, than it is to
keep it secure after the fact.</p>
<h2>Mental Models and Deniability</h2>
<p>A rule of thumb for creating usable software, is <em>don't make me think</em>.</p>
<p>What this means in practice, is software should match the mental models of
its users as closely as possible. If it doesn't, users will inevitably make
mistakes. If your tool is a security tool, those mistakes may compromise
their security.</p>
<p>PGP in e-mail has failed this on many fronts. The lack of protection for
message headers (the subject line) is one, as is pretty much anything to do
with encryption keys (too much math). But it's not all bad! OpenPGP gets
other things right, and actually <em>corrects</em> some of the things insecure
e-mail gets wrong.</p>
<p>One of the most vexing things about e-mail, is people actually think e-mail
is <em>already secure</em>. They just assume e-mail is like regular mail, in an
opaque envelope that will prevent tampering and keep postal workers from
reading it. Encryption and signatures bring e-mail closer to user
expectations, which means if we can get it working smoothly, users won't
have to think as much to make good security choices.</p>
<p>One thing people <em>don't</em> expect from e-mail, is deniability. Deniability
means after a message has been delivered, it can no longer be strongly
linked to the sender. It's like an anti-signature... which most sane people
would consider a horrible misfeature in any communication system. Explicitly
designing a system so people can disavow their statements and go back on
their word? What is this, a system for assholes??</p>
<p>And yet, all the cool kids in the security world seem to want exactly that.
They keep bringing up the lack of deniability (and forward secrecy) in PGP
as if it were some sort of fatal flaw.</p>
<p>Why? Are security people all assholes? I don't <em>think</em> that's it.</p>
<p>I think they're quite enamoured with the elegant math, and really, really
pissed off with certain Three Letter Agencies. There is good reason to
believe major governments plan to, or already have been <a href="https://www.wired.com/2012/03/ff_nsadatacenter/">recording all our
encrypted communications</a>
in the hope of being able to decrypt them later. Forward secrecy
(deniability's more attractive twin sister) prevents that sort of thing. But
OpenPGP doesn't need to provide forward secrecy to thwart mass surveillance.
If we just use TLS (with the right ciphers) for SMTP, IMAP and web-mail then
that does the job just fine.</p>
<p>So I agree forward secrecy in transit is a good thing. Let's do that!</p>
<p>Let's put our mail in secure envelopes, and let's <em>also</em> drive it from place to
place in nice, secure vehicles. Users don't expect the cops to routinely stop
the mailman and photocopy all the mail, so let's make sure that doesn't happen
to e-mail either. Let the mental models be our guide.</p>
<p>But we don't need or want deniability. Deniability for individual messages
is, quite simply, a horrible misfeature to be avoided. People already assume
e-mail is <strong>on the record</strong>; trying to change that means going against their
mental models and setting them up for failure in new and exciting ways. The
fact that OpenPGP wasn't designed to empower assholes is a feature, not a
bug.</p>
<p><em>(Yes, there are other arguments for forward secrecy and deniability. They
are in my oh-so-humble opinion, mostly bunk. And this post is already too
long...)</em></p>
<h2>Making Progress</h2>
<p>Anyway, like it or not, e-mail is important.</p>
<p>E-mail is the most successful open messaging standard we've got and OpenPGP
is the best tech we have to secure our mail. OpenPGP may be dated and a bit
clunky, but <em><a href="http://www.theverge.com/2014/12/28/7458159/encryption-standards-the-nsa-cant-crack-pgp-tor-otr-snowden">it's a hell of a lot better than
nothing</a></em>.</p>
<p>Folks like myself, implementors who are not cryptographers, have long been
admonished to not invent our own crypto. Over and over again, we are told to
use tried and tested solutions. OpenPGP is that. It may have baggage, it may
not be perfect, but it is mature and it solves certain problems. Most of the
flaws can be avoided and worked around. If the security community really wants
us to use something else, you're going to have to step up and provide something
a bit more tangible than rants on the Internet.</p>
<p>OpenPGP is also not standing still, OpenPGP is still developing. The
community is well aware that the technology is flawed and needs work. An
<a href="https://tools.ietf.org/html/draft-ietf-openpgp-rfc4880bis-00">update to the standard is in the works</a>
and there are multiple projects working on improving both the
<a href="http://modernpgp.org/memoryhole/">security</a> and
<a href="https://inbome.readthedocs.io/">usability</a> side of things.</p>
<p><a href="/">Mailpile</a> is one such project, but we're in good company:
<a href="https://pep.foundation/">PEP</a>,
<a href="https://leap.se/">LEAP</a>,
<a href="https://www.openkeychain.org/">OpenKeychain for Android</a>,
<a href="https://www.mailvelope.com/">Mailvelope</a>, and more.
Even <a href="https://github.com/google/end-to-end">Google</a> and
<a href="https://github.com/yahoo/end-to-end">Yahoo</a> are developing solutions
based on OpenPGP. There's actually quite a lot going on!</p>
<p>As an industry, we should be
<a href="https://gnupg.org/donate/">supporting these efforts</a>, not writing
and promoting self indulgent posts on how we've given up and moved on.</p>
<p>Oh, and stay in school kids! It's worth it!</p>
  <hr>
    <a href="2016-11-23_Protecting_Your_Local_Data.html"><h1>Protecting Your Local Data</h1></a>
    <p><strong>Posted by <a href="#">Bjarni</a>
               on November 23, 2016</strong></p>
    <p>Everyone understands physical security.</p>
<p>Starting in play-school, we learn that if we don't want the other kids
to play with our favourite toys, then steps must be taken. Hopefully
most of us also learned to share and play nice, but that's another
matter...</p>
<p>Keeping physical objects safe is such a basic skill that it requires no
explanation. We all know the importance of keeping our wallets or our
phones safe, our jewellry, our keys. We may not do a great job all the
time, some of us are absent minded and maybe we live in a safe place and
don't worry too much - but we all understand the concept.</p>
<p>One of Mailpile's main goals is to bring this kind of intuitive security
to our digital lives, to e-mail. If a physical device in your possession
stores your mail, then you already know the basics of keeping your
e-mail secure, private and safe.</p>
<p>So far, so good!</p>
<p>But what happens when things go wrong? What happens when your Mailpile
machine gets lost or stolen? Or dropped on the floor?</p>
<h3>The Risks</h3>
<p>When something goes wrong with your Mailpile device, there are two bad
things that are likely to happen:</p>
<ol>
<li>You lose access to your Mailpile data</li>
<li>Someone who shouldn't gains access to your Mailpile data</li>
</ol>
<p>The first case is more common; it can happen when a machine gets lost,
gets stolen, gets damaged in fire or flood, or malfunctions of its own
accord. Given enough time, it's almost inevitable.</p>
<p>The second case is much less common, but when it happens the
consequences can be dire. If your e-mail contains very sensitive
material (confidential documents, nude photos, incriminating evidence)
your job, your relationships or even your life may be at risk.</p>
<p>So those are the problems. How about some solutions?</p>
<h3>Avoiding Data Loss: Backups</h3>
<p>Protecting you from losing access to your Mailpile is conceptually
simple. You just need backups. That's all.</p>
<p>Famous last words...</p>
<p>Making backups available and easy is actually quite hard, because it is
ultimately a physical problem. The data needs to be copied to another
device that won't be lost or damaged by the calamity that made you need
backups in the first place.</p>
<p>Any local physical solution ultimately relies on user education and user
action; which means our less skilled or more absent-minded users will
not end up with working backups. This is unacceptable.</p>
<p>A much better solution would be to use the network, automatically store
Mailpile users' backups somewhere else. But where? If Mailpile were to
directly provide an online backup solution, that would make us stewards
of your data (a role we would like avoid) and would also cost us a bunch
of money to do properly - money which the project simply does not have.</p>
<p>We also need to take care that the backups themselves don't become a
security risk - we don't want to create a backup solution that
accidentally grants unauthorized parties access to your mail!</p>
<p>Our current strategy is simple: we want to encrypt all your data and
then upload it right back to one of the IMAP servers you already have
access to.</p>
<p>Simple right? A mere matter of programming (this will take some time).</p>
<h3>Avoiding Data Loss part II: Keys, Keys, Keys</h3>
<p>We have a plan for backups! But what about the encryption keys?</p>
<p>If those are lost, all is lost.</p>
<p>If those are stolen, all is stolen.</p>
<p>Currently, Mailpile requires users log in to their Mailpile with a
password (or passphrase). Internally, this passphrase unlocks a file
encrypted using GnuPG, a file which contains the actual encryption key
used for everything else.</p>
<p>If we trust GnuPG's security (which we do), it should be perfectly fine
to store this along with all the other data. Right?</p>
<p>Unfortunately, no. The problem is, our users may not choose strong
passwords. No matter how much we try to educate, some will end up using
the same password for their Mailpile as they used for the IMAP server
we're uploading the backups to. Since the operator of the IMAP server
can access that password with relative ease, that would leave the
backups exposed.</p>
<p>So this part of the plan requires more thought; the current strategy we
are leaning towards, is to create an unguessable "recovery key", made up
of 9-12 dictionary words. This recovery key will be used to encrypt the
keys to the kingdom, before they too are uploaded to the cloud.</p>
<p>Once backups are enabled, the app will do the following:</p>
<ol>
<li>Ask the user to print out or write down the recovery key, and keep
      it safe.</li>
<li>Ask the user to nominate a few trusted friends or family members,
      and e-mail each of them a part of the recovery key.</li>
</ol>
<p>The first option is for people who don't have any friends. The second
option is for everyone else!</p>
<p>When a user needs to restore their Mailpile from backups, they will
either fetch the printout from the shoebox under the bed (or from the
bank vault), or they will contact their friends asking for help. Either
way, it's a relatively simple procedure.</p>
<p>We think... <a href="https://github.com/mailpile/Mailpile/issues/1691">your feedback is most welcome</a>!</p>
<p>There are of course lots of little details; the length of the recovery
key, the number of trusted friends who receive key details versus the
number of friends required to respond for successful recovery, the
wording of the key fragment e-mails. And so on! But I think the basic
idea is sound and the implementation should be able to adapt to the
needs of both casual users and users with strong security requirements.</p>
<p>Incidentally, this procedure can also serve as a decentralized "password
reset" feature for people who forget their Mailpile password. They just
have to remember who their trusted friends were...</p>
<h3>Keeping Your Data Private</h3>
<p>The final piece of this puzzle, is keeping data private.</p>
<p>This is also conceptually simple: we encrypt everything!</p>
<p>Considering that strong cryptography is available "off the shelf" from
multiple mature libraries these days, our job is to choose one of the
industry-standard algorithms from one of the standard libraries, and
make use of it.</p>
<p>The main constraints are performance and reliability. We would like the
encryption to not slow things down <em>too much</em>, and we would like the
encryption to not increase the odds of data loss.</p>
<p>Given those two constraints, our current preference is to use <a href="https://en.wikipedia.org/wiki/Cipher_block_chaining#Counter_.28CTR.29">AES in
CTR (Counter) mode</a>,
with a SHA256-based MAC to detect data corruption and/or tampering.</p>
<p>Since CTR mode localizes any damage (unlike AES-CBC which we were
mistakenly using before), it can be argued that the encryption doesn't
reduce reliability. Of course in practice this will depend on the what
the app does when corruption is detected and how easy (and safe) it is
to recover - but as long as the data is mostly intact, our recovery
strategies can evolve and improve over time.</p>
<p>An alternative mode, GCM (Galois Counter Mode) would also be a good
candidate, but it's currently not as widely available as CTR mode. We
may switch to it in the future.</p>
<p>Another item for the long-term wishlist is use of <a href="https://en.wikipedia.org/wiki/Error_detection_and_correction">error correction
codes</a> to
automatically recover from minor corruption; potentially making Mailpile
Encrypted Storage <em>more</em> resiliant than normal unencrypted files.</p>
<h3>Current State</h3>
<p>This is all well and good. But we're not there yet!</p>
<p>Here is a summary of the current state of things in Mailpile and what we
expect for version 1.0:</p>
<ol>
<li>
<p>Automated backups are not implemented yet and probably will not be
   ready by version 1.0. We have however laid the groundwork by defining
   an on-disk storage format which can be easily uploaded to IMAP servers
   (since the format looks like e-mail).</p>
</li>
<li>
<p>Key backups are not implemented, but are a goal for 1.0 due to their
   importance and the extreme risk of data loss if they are compromised.
   <a href="https://github.com/mailpile/Mailpile/issues/1691">Join the discussion here</a>.</p>
</li>
<li>
<p>Local data encryption is implemented. We are in <a href="https://github.com/mailpile/Mailpile/pull/1684">the process of
   switching encryption algorithms to AES-CTR</a>.</p>
</li>
</ol>
<p>Thanks for reading!</p>
  <hr>
    <a href="2016-10-26_Search_as_a_Core_Feature.html"><h1>Search as a Core Feature</h1></a>
    <p><strong>Posted by <a href="#">Bjarni Rúnar</a>
               on October 26, 2016</strong></p>
    <p>One of the main differences between Mailpile and most other Free
Software e-mail clients has to do with the approach we take to handling
e-mail.</p>
<p>The first generation of e-mail clients focused on the e-mail itself and
provided mailboxes or folders as places to store it. Organizing your
e-mail meant moving it around, from one mailbox to another. This is how
most desktop e-mail clients work today.</p>
<p>Mailpile's approach is different. Inspired by GMail, we decided to make
search the central metaphor. Organizing mail in Mailpile then became a
matter of labeling messages in such ways that they could easily be
searched for; this is how Mailpile's tags work.</p>
<p>Tags are much more flexible and powerful than mailboxes; once the search
engine has indexed all your mail it no longer matters in which mailbox
or folder the mail is stored since you can access and organize any
combination of messages using a mixture of tags and search terms.
Searching a well designed index is actually faster (both for the human
and the computer) than finding and opening the right mailbox.</p>
<p>So Mailpile is a search engine first and foremost. Most of the other
features it has are built on top of that foundation.</p>
<h2>What About Mailboxes?</h2>
<p>This is all well and good.</p>
<p>But the fact remains that sometimes we need to open a mailbox and look inside;
after all, that is where the mail is!</p>
<p>Mailpile has struggled with this from the beginning. Being built around
a single search engine meant Mailpile couldn't really do much with the
contents of a mailbox until it had all been processed and added to the
search index.</p>
<p>This led to usability problems. If Mailpile was given a large number of
mailboxes to process it could take quite some time before it got to the
one the user was interested in. If the background indexing process had
a problem, mail would just never appear. Users coming from traditional
mail clients had expectations which Mailpile could not meet. And last
but not least, it made troubleshooting very difficult because there were
so many layers of code, each introducing potential bugs or delays, that
an e-mail had to travel through before it appeared (or failed to appear)
in the user interface.</p>
<p>Sometimes you just want to open up a mailbox and look inside, without
having to add all the mail to your Mailpile.</p>
<h2>Embracing Search</h2>
<p>The solution I have found to this problem wasn't to stop treating
search as a core feature. It was to embrace it and take it a step
further: who says there should <em>only be one way to search</em>?</p>
<p>Many IMAP servers offer search features. We should be able to make use
of them. Similarly, searching a raw mailbox is relatively
straightforward - it may not be elegant or as fast as Mailpile's native
index, but running "grep" or the equivalent very often gives useful
results. It turns out there are many ways to search mailboxes that
haven't been fully processed and added to the main Mailpile index.</p>
<p>So Mailpile now internally supports <strong>multiple search indexes</strong>. At the
moment it only searches one at a time, and some search indexes are not
very good at searching yet... but the code is elegant and clean, works
well and has interesting potential for the future.</p>
<p>Maybe someday we'll have hybrid search, which searches both remote IMAP
servers and the local index. Maybe someday we'll be able to pull in
results from notmuch or some alternate index.</p>
<p>But for now, at least this approach makes it easy and quick for Mailpile
to look inside raw mailboxes. That alone clears a major roadblock out of
the way for a 1.0 release.</p>
<p>I am still mulling over how best to expose this in the user interface.
At the very least, it will be the default behaviour when accessing
mailboxes from the browsing tool. I may also make it accessible via the
per-mailbox tags in the sidebar; doing so is likely to match user
expectations better than using Mailpile's internal index. But I'm not
entirely sure.</p>
<p>I'll be pushing this up for review once I've finished a few more test.</p>
  <hr>

  <h3>Older stuff</h3>
  <ul>
    <li><a href="2016-09-23_Rebooting_Mailpile_Development.html">Rebooting the Mailpile Development Process</a></li>
    <li><a href="2016-04-18_GUI-o-Matic_Automation_GnuPG_Piracy.html">Delegate, Automate, Collaborate, Pirate</a></li>
    <li><a href="2016-03-24_Python_SSL_Woes.html">Python SSL Woes</a></li>
    <li><a href="2016-03-16_PyCon_SK.html">Status Update and PyCon SK report</a></li>
    <li><a href="2016-01-01_Happy_Frozen_New_Year.html">Happy Frozen New Year!</a></li>
    <li><a href="2015-12-24_Merry_Christmas.html">Merry Christmas, Hello 32c3!</a></li>
    <li><a href="2015-12-03_Why_so_Quiet.html">Why so quiet?</a></li>
    <li><a href="2015-10-19_Major_UI_Updates.html">UI Updates, OTF news</a></li>
    <li><a href="2015-10-06_Fall_FAQ.html">Fall FAQs</a></li>
    <li><a href="2015-09-22_pyConUK_and_Mailpile_Mel.html">PyCon UK and Mailpile Mel</a></li>
    <li><a href="2015-09-14_Goals_and_Releases.html">Goals and Releases</a></li>
    <li><a href="2015-09-07_Quiet.html">Quiet days; new people</a></li>
    <li><a href="2015-08-24_Thank_You.html">Thank you!</a></li>
    <li><a href="2015-08-18_On_Crowdfunding_and_Burnout.html">On Crowdfunding and Burnout</a></li>
    <li><a href="2015-08-10_Issue_Cleanup_Frenzy.html">Github Issue Cleanup Frenzy</a></li>
    <li><a href="2015-08-03_Back_to_Work.html">Vacation over; Back to work!</a></li>
    <li><a href="2015-07-20_Mailpile_Beta_III.html">Mailpile Beta III: WYSIWYG</a></li>
    <li><a href="2015-07-07_Beta_III_prep.html">Beta III preparations</a></li>
    <li><a href="2015-07-02_Licensing_Decision.html">License: The Python&#39;s Tongue</a></li>
    <li><a href="2015-06-29_Fast_Startup_and_Key_Disco.html">Fast Startup and Key Discovery</a></li>
    <li><a href="2015-06-22_DCSS_Cardiff.html">The DCSS Conference in Cardiff</a></li>
    <li><a href="2015-06-15_Community_License_Feedback.html">Licensing: Your Feedback So Far</a></li>
    <li><a href="2015-06-08_Multiple_PGP_Key_Support.html">Multiple PGP Key Support!</a></li>
    <li><a href="2015-06-01_Roadmap_Reality_Check.html">Roadmap Reality Check</a></li>
    <li><a href="2015-05-25_Localization_Lab_AMA.html">An AMA with the Localization Lab</a></li>
    <li><a href="2015-05-18_Digging_for_Data.html">Digging for Data</a></li>
    <li><a href="2015-05-11_Weekly_Report.html">Site updates and community roadmap launched</a></li>
    <li><a href="2015-05-08_Choosing_a_License.html">Choosing a License for Mailpile 1.0</a></li>
    <li><a href="2015-05-04_Weekly_Report.html">Last week: code pushed, Cloudfleet, key discovery</a></li>
    <li><a href="2015-04-27_Roadmap_to_v1.html">A Roadmap to Version 1.0</a></li>
    <li><a href="2015-04-26_Weekly_Report.html">Last week: Roadmap, Memory Hole, refactoring</a></li>
    <li><a href="2015-04-20_OpenPGP_Email_Summit.html">The First OpenPGP E-mail Summit</a></li>
    <li><a href="2015-04-13_Back_to_Work.html">Back to Work!</a></li>
    <li><a href="2015-03-06_Beta_Rejected.html">Beta Rejected!</a></li>
    <li><a href="2015-02-26_Revisiting_the_GnuPG_discussion.html">More thoughts on working with GnuPG</a></li>
    <li><a href="2015-01-20_Mailpile_Beta_II_4096_bits.html">Mailpile Beta II - the 4096 bit release</a></li>
    <li><a href="2014-11-21_To_PGP_MIME_Or_Not.html">To PGP/MIME or not to PGP/MIME</a></li>
    <li><a href="2014-10-07_Some_Thoughts_on_GnuPG.html">Some thoughts on working with GnuPG</a></li>
    <li><a href="2014-09-13_Mailpile_Beta_Release.html">One Year Later: Mailpile Beta</a></li>
    <li><a href="2014-08-20_Upcoming_Beta_Release_Part_II.html">Our Upcoming Beta Release: Part II</a></li>
    <li><a href="2014-08-08_Our_Upcoming_Beta_Release.html">Our Upcoming Beta Release</a></li>
    <li><a href="2014-06-03_Mailpile_Alpha_II.html">Mailpile Alpha II - The Dogfood Edition</a></li>
    <li><a href="2014-04-30_Where_is_the_Community_Site.html">Where is the Community Site?</a></li>
    <li><a href="2014-04-07_Workshop_in_London.html">Mailpile Workshop in London</a></li>
    <li><a href="2014-02-07_IndieGoGo_Update_8.html">Development, Perks, and Alpha (IGG Update #8)</a></li>
    <li><a href="2014-01-31_Alpha_Release_Shipping_Bits_and_Atoms.html">Alpha Release: Shipping Bits and Atoms</a></li>
    <li><a href="2014-01-12_A_Plan_For_Spam.html">A Plan For Spam ... and Bacon!</a></li>
    <li><a href="2013-11-23_A_Pound_of_Security.html">A Pound of Security</a></li>
    <li><a href="2013-11-18_Speaking_your_language.html">Speaking Your Language</a></li>
    <li><a href="2013-11-01_IndieGoGo_Update_7.html">Perks? What perks? (IGG Update #7)</a></li>
    <li><a href="2013-10-31_DarkMail_and_Secure_Protocols.html">DarkMail and Secure Protocols</a></li>
    <li><a href="2013-10-11_The_Month_of_Dog_Fooding.html">The Month of Dog Fooding</a></li>
    <li><a href="2013-09-12_IndieGoGo_Update_6.html">Thank you! (IGG Update #6)</a></li>
    <li><a href="2013-09-11_Budget_and_Roadmap.html">A Rough Budget and Alpha Roadmap</a></li>
    <li><a href="2013-09-10_Surveillance_Centralization.html">Surveillance And Centralization (video)</a></li>
    <li><a href="2013-09-10_IndieGoGo_Update_5.html">The Home Stretch (IGG Update #5)</a></li>
    <li><a href="2013-09-06_IndieGoGo_Update_4.html">PayPal News (IGG Update #4)</a></li>
    <li><a href="2013-09-05_PayPal_Freezes_Campaign_Funds.html">PayPal Freezes Campaign Funds</a></li>
    <li><a href="2013-09-05_IndieGoGo_Update_3.html">PayPal News (IGG Update #3)</a></li>
    <li><a href="2013-08-30_Fonts_and_Copyright_Licenses.html">Fonts and Copyright Licenses</a></li>
    <li><a href="2013-08-21_IndieGoGo_Update_2.html">We are funded! (IGG update #2)</a></li>
    <li><a href="2013-08-20_Turning_Money_Into_Code.html">Turning Money Into Code</a></li>
    <li><a href="2013-08-15_Digging_Through_the_Details.html">Digging Through the Details</a></li>
    <li><a href="2013-08-11_IndieGoGo_Update_1.html">Our first week (IGG update #1)</a></li>
    <li><a href="2013-08-11_Designing_Security.html">Designing Security (video)</a></li>
    <li><a href="2013-08-08_Mailpile_Launched.html">Mailpile Launched</a></li>
  </ul>


<!-- Page content ends -->
<!--
                <p><script id='fbwj89d'>(function(i){var f,s=document.getElementById(i);f=document.createElement('iframe');f.src='//api.flattr.com/button/view/?uid=mailpile&button=compact&url='+encodeURIComponent(document.URL);f.title='Flattr';f.height=20;f.width=110;f.style.borderWidth=0;s.parentNode.insertBefore(f,s);})('fbwj89d');</script></p>
-->
            </div>
            <div class="col-1"></div>
            <div class="col-4">
  <div class="tweets">
    <h4>Some Tweets</h4>
        <div class="tweet"><p>Should we start tweeting links to Mailpile issues our community could help us fix? Or would that be spammy? What do you think?<br />
<em><a href="https://twitter.com/MailpileTeam">@MailpileTeam</a>, <a href="https://twitter.com/MailpileTeam/status/834430336973012992">Wed, 22 Feb 2017 15:51</a></em>  </p></div>

        <div class="tweet"><p>Mailpile 1.0 will implement Memory Hole, a standard for encrypting or signing e-mail headers. See thread:<br />
<a href="https://twitter.com/HerraBRE/status/831636607543427072">twitter.com/HerraBRE...</a><br />
<em><a href="https://twitter.com/MailpileTeam">@MailpileTeam</a>, <a href="https://twitter.com/MailpileTeam/status/831847117538938882">Wed, 15 Feb 2017 12:46</a></em>  </p></div>

        <div class="tweet"><p>Many of the things Mailpile will do to protect your privacy depend on Tor. Support them if you can!<br />
<a href="https://twitter.com/torproject/status/805883327551012867">twitter.com/torproject...</a><br />
<em><a href="https://twitter.com/MailpileTeam">@MailpileTeam</a>, <a href="https://twitter.com/MailpileTeam/status/805884148556697600">Mon, 05 Dec 2016 21:18</a></em>  </p></div>

        <div class="tweet"><p>Our goal: Make Mailpile good enough enough to be mentioned in guides like this. We'll get there eventually!<br />
<a href="https://twitter.com/arstechnica/status/804296749343010816">twitter.com/arstechnica...</a><br />
<em><a href="https://twitter.com/MailpileTeam">@MailpileTeam</a>, <a href="https://twitter.com/MailpileTeam/status/804378030131003392">Thu, 01 Dec 2016 17:34</a></em>  </p></div>

        <div class="tweet"><p>Nice to see folks are hard at work preparing cool products based on Mailpile, even though we're not at 1.0 yet.<br />
<a href="https://twitter.com/Own_Mailbox/status/802834860100423680">twitter.com/Own_Mailbox...</a><br />
<em><a href="https://twitter.com/MailpileTeam">@MailpileTeam</a>, <a href="https://twitter.com/MailpileTeam/status/803293129713467392">Mon, 28 Nov 2016 17:43</a></em>  </p></div>

        <div class="tweet"><p>Things may have been quiet lately, but our monthly contributor count is growing! It's great to have a community.<br />
<a href="https://github.com/mailpile/Mailpile/pulse/monthly">github.com/mailpile...</a><br />
<em><a href="https://twitter.com/MailpileTeam">@MailpileTeam</a>, <a href="https://twitter.com/MailpileTeam/status/799684098729988096">Fri, 18 Nov 2016 18:42</a></em>  </p></div>

        <div class="tweet"><p>Developing a secure e-mail client isn't without risks... ;-)<br />
<a href="https://twitter.com/HerraBRE/status/798090594413375488">twitter.com/HerraBRE...</a><br />
<em><a href="https://twitter.com/MailpileTeam">@MailpileTeam</a>, <a href="https://twitter.com/MailpileTeam/status/798983734976479232">Wed, 16 Nov 2016 20:19</a></em>  </p></div>

        <div class="tweet"><p>We don't tweet as much as we should. But there are other ways to check out pulse. For example this one: <a href="https://github.com/mailpile/Mailpile/pulse">https://github.com/mailpile/Mailpile/pulse</a><br />
<em><a href="https://twitter.com/MailpileTeam">@MailpileTeam</a>, <a href="https://twitter.com/MailpileTeam/status/793157591996260352">Mon, 31 Oct 2016 18:28</a></em>  </p></div>

        <div class="tweet"><p>Check out the @cloudfleetio fund-raising campaign! A very promising effort to bring Mailpile to the public: <a href="https://www.indiegogo.com/projects/cloudfleet-your-private-encrypted-cloud-at-home#/">www.indiegogo.com/projects...</a><br />
<em><a href="https://twitter.com/MailpileTeam">@MailpileTeam</a>, <a href="https://twitter.com/MailpileTeam/status/681870729542025216">Tue, 29 Dec 2015 16:13</a></em>  </p></div>

  </div>
</div>
        </div>
        <hr>
        <!-- Contact & Media -->
        <div id="footer" class="clearfix">
            <div class="one-third">
                <h3>Please Donate</h3>
                <p>To ensure ongoing development of Mailpile and our community!
                   <a href="/thank-you/">Thank you!</a></p>
                <p><a href="/donate/" target="_blank"><img src="/img/donate-button.png" style="width: 60%;"></a></p>
            </div>
            <div class="one-third">
                <h3>Contact Us</h3>
                <ul class="add-bottom">
                    <li>Email: <a href="mailto:team@mailpile.is">team@mailpile.is</a></li>
                    <li>Twitter: <a href="https://twitter.com/mailpileteam" target="_blank">@MailpileTeam</a></li>
                    <li>Freenode: <a href="irc://irc.freenode.net/#mailpile">#mailpile</a> (IRC)</li>
                    <li>Tor: <a href="http://clgs64523yi2bkhz.onion/">clgs64523yi2bkhz.onion</a></li>
<!--
                    <li><span style="display: inline-block;">PGP:<br>&nbsp;</span>
                        <a href="/files/team@mailpile.is.asc" style="display: inline-block;">
                        4161 CD18 CCA1 1A0B 1F4C<br>
                        3EA0 AAD9 65A4 7077 75F9
                    </a></li>
-->
                </ul>
            </div>
            <div class="one-third">
                <h3>Resources</h3>
                <ul class="add-bottom">
                    <li>Code: <a href="https://github.com/mailpile/Mailpile" target="_blank">Github</a></li>
                    <li>Bugs: <a href="https://github.com/mailpile/Mailpile/issues" target="_blank">Browse</a>,
                              <a href="https://github.com/mailpile/Mailpile/issues/new" target="_blank">Report</a></li>
                    <li>Wiki: <a href="https://github.com/mailpile/Mailpile/wiki" target="_blank">Read &amp; Write</a></li>
                </ul>
                <ul>
                    <li>Logo: <a href="/img/mailpile-logo.svg" target="_blank">Color Vector</a> (SVG)</li>
                    <li>Logo: <a href="/img/mailpile-logo.png" target="_blank">Color Bitmap</a> (PNG)</li>
                    <li>Font: <a href="https://github.com/mailpile/fonts" target="_blank">Mailpile "the font"</a></li>
                </ul>
            </div>
        </div>

        <div class="add-top add-bottom"></div>


    </div><!-- container -->
    <div class="scroll-hint" style="position: fixed; right: 20px; bottom: 20px; width: 30px;">
      <a href="#top"><img alt="top" src="/img/arrow-up.png"></a>
    </div>

</body>
</html>